<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Rolling Ball Game</title>
<style>
  body { margin:0; overflow:hidden; background:#eee; }
  canvas { display:block; margin:0 auto; background:#cef; }
</style>
</head>
<body>
<canvas id="gameCanvas" width="800" height="400"></canvas>

<video id="ballVideo" width="0px" height="0px" src="edroll.mp4" preload="auto" loop muted playsinline></video>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

const video = document.getElementById("ballVideo");
video.loop = true;
video.muted = true;
video.play();          // 자동 재생 (muted와 playsinline이 있어야 모바일에서 작동)

// 공 위치
let ballX = 100;
let ballY = 250;
let speed = 2;

// 게임 루프
function gameLoop() {
    // 이동
    ballX += speed;
    if (ballX > canvas.width) ballX = -150; // 화면 끝에서 다시 등장

    // 배경 지우기
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // 공(비디오 프레임) 그리기
    ctx.drawImage(video, ballX, ballY, 150,150);

    requestAnimationFrame(gameLoop);
}

// 비디오가 재생 준비가 끝나면 루프 시작
video.addEventListener("canplay", () => {
    requestAnimationFrame(gameLoop);
});
</script>
</body>
</html>