<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Rolling Ball Game</title>
<style>
  body { margin:0; overflow:hidden; background:#eee; }
  canvas { display:block; margin:0 auto; background:#cef; }
</style>
</head>
<body>
<canvas id="gameCanvas" width="800" height="400"></canvas>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

// 공 스프라이트 이미지
const sprite = new Image();
sprite.src = "edroll.mp4";

// 스프라이트 시트 정보
const frameWidth = 128;     // 각 프레임 너비
const frameHeight = 128;    // 각 프레임 높이
const totalFrames = 96;     // 전체 프레임 수
let currentFrame = 0;

// 공 위치
let ballX = 100;
let ballY = 300;
let speed = 3;              // 공 이동 속도(px/frame)

// 시간 제어
let lastTime = 0;
const fps = 24;             // 모션 FPS
const frameDuration = 1000 / fps; // 한 프레임 시간(ms)

function gameLoop(timestamp) {
    if (!lastTime) lastTime = timestamp;
    const delta = timestamp - lastTime;

    // 프레임 변경
    if (delta >= frameDuration) {
        currentFrame = (currentFrame + 1) % totalFrames;
        ballX += speed;
        lastTime = timestamp;
    }

    // 화면 지우기
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // 공 그리기
    const sx = (currentFrame % 12) * frameWidth;
    const sy = Math.floor(currentFrame / 12) * frameHeight;
    ctx.drawImage(sprite, sx, sy, frameWidth, frameHeight, ballX, ballY, 128,128);

    // 루프
    requestAnimationFrame(gameLoop);
}

sprite.onload = () => {
    requestAnimationFrame(gameLoop);
};
</script>
</body>
</html>
